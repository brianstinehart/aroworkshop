I"Ÿ

<p>As before, the fastest way in through the web console navigating to <strong>Builds -&gt; Build Configs</strong> and selecting <strong>rating-web</strong>, then using the copy option for the GitHub webhook URL near the bottom of the page. Youâ€™ll once again use this copied URL to setup the webhook on your GitHub repository.</p>

<p>The process at the command line is also the same as before. Retrieve the GitHub webhook trigger secret youâ€™ll need need in the GitHub webhook URL using the command below:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oc get bc/rating-web <span class="nt">-o</span><span class="o">=</span><span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{.spec.triggers..github.secret}'</span>
</code></pre></div></div>

<p>Youâ€™ll get back something similar to the below. Make note the secret key in the red box as youâ€™ll need it in a few steps.</p>

<p><img src="media/rating-web-github-secret.png" alt="Rating Web GitHub trigger secret" /></p>

<p>Retrieve the GitHub webhook trigger URL from the build configuration.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oc describe bc/rating-web
</code></pre></div></div>

<p><img src="media/rating-web-github-webhook-url.png" alt="Rating Web GitHub trigger url" /></p>

<p>Replace the <code class="language-plaintext highlighter-rouge">&lt;secret&gt;</code> placeholder with the secret you retrieved in the previous step to have a URL similar to <code class="language-plaintext highlighter-rouge">https://api.qv4g35sq.westeurope.aroapp.io:6443/apis/build.openshift.io/v1/namespaces/workshop01/buildconfigs/rating-web/webhooks/VZJewR0m1E65dBAv1IYM/github</code>. Youâ€™ll use this URL to setup the webhook on your GitHub repository.</p>

<p>In your GitHub repository (e.g. https://github.com/<your GitHub="" username="">/rating-web), navigate to **Settings -&gt; Webhooks** and select **Add Webhook**.</your></p>

<p>Paste the URL output (similar to above) into the Payload URL field.</p>

<p>Change the Content Type from GitHubâ€™s default <strong>application/x-www-form-urlencoded</strong> to <strong>application/json</strong>.</p>

<p>Click <strong>Add webhook</strong>.</p>

<p><img src="media/rating-web-github-addwebhook.png" alt="GitHub add webhook" /></p>

<p>If you click back into the newly created webhook, you should see a message from at the bottom with a green tick under <strong>Recent Deliveries</strong>.</p>

<p>Now whenever you push a change to your GitHub repository a new build will automatically start in OpenShift. After a successful build, a new deployment will be triggered as well.</p>

:ET